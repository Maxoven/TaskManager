{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./components/Login';import Register from'./components/Register';import Dashboard from'./components/Dashboard';import KanbanBoard from'./components/KanbanBoard';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState(localStorage.getItem('token'));const[user,setUser]=useState(null);useEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser){setUser(JSON.parse(storedUser));}},[]);const handleLogin=(userData,authToken)=>{setUser(userData);setToken(authToken);localStorage.setItem('token',authToken);localStorage.setItem('user',JSON.stringify(userData));};const handleLogout=()=>{setUser(null);setToken(null);localStorage.removeItem('token');localStorage.removeItem('user');};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!token?/*#__PURE__*/_jsx(Login,{onLogin:handleLogin}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!token?/*#__PURE__*/_jsx(Register,{onRegister:handleLogin}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:token?/*#__PURE__*/_jsx(Dashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/project/:id\",element:token?/*#__PURE__*/_jsx(KanbanBoard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","Dashboard","KanbanBoard","jsx","_jsx","jsxs","_jsxs","App","token","setToken","localStorage","getItem","user","setUser","storedUser","JSON","parse","handleLogin","userData","authToken","setItem","stringify","handleLogout","removeItem","children","className","path","element","onLogin","to","onRegister","onLogout"],"sources":["/Users/maksimvakulenko/Desktop/LUT/DataIntensive/TaskManager/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport KanbanBoard from './components/KanbanBoard';\nimport './App.css';\n\nfunction App() {\n  const [token, setToken] = useState(localStorage.getItem('token'));\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n\n  const handleLogin = (userData, authToken) => {\n    setUser(userData);\n    setToken(authToken);\n    localStorage.setItem('token', authToken);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    setToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  };\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Routes>\n          <Route \n            path=\"/login\" \n            element={!token ? <Login onLogin={handleLogin} /> : <Navigate to=\"/\" />} \n          />\n          <Route \n            path=\"/register\" \n            element={!token ? <Register onRegister={handleLogin} /> : <Navigate to=\"/\" />} \n          />\n          <Route \n            path=\"/\" \n            element={token ? <Dashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" />} \n          />\n          <Route \n            path=\"/project/:id\" \n            element={token ? <KanbanBoard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" />} \n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAACkB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACjE,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,IAAI,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAqB,UAAU,CAAGJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAC/C,GAAIG,UAAU,CAAE,CACdD,OAAO,CAACE,IAAI,CAACC,KAAK,CAACF,UAAU,CAAC,CAAC,CACjC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,WAAW,CAAGA,CAACC,QAAQ,CAAEC,SAAS,GAAK,CAC3CN,OAAO,CAACK,QAAQ,CAAC,CACjBT,QAAQ,CAACU,SAAS,CAAC,CACnBT,YAAY,CAACU,OAAO,CAAC,OAAO,CAAED,SAAS,CAAC,CACxCT,YAAY,CAACU,OAAO,CAAC,MAAM,CAAEL,IAAI,CAACM,SAAS,CAACH,QAAQ,CAAC,CAAC,CACxD,CAAC,CAED,KAAM,CAAAI,YAAY,CAAGA,CAAA,GAAM,CACzBT,OAAO,CAAC,IAAI,CAAC,CACbJ,QAAQ,CAAC,IAAI,CAAC,CACdC,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC,CAChCb,YAAY,CAACa,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CAED,mBACEnB,IAAA,CAACT,MAAM,EAAA6B,QAAA,cACLpB,IAAA,QAAKqB,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClBlB,KAAA,CAACV,MAAM,EAAA4B,QAAA,eACLpB,IAAA,CAACP,KAAK,EACJ6B,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAE,CAACnB,KAAK,cAAGJ,IAAA,CAACL,KAAK,EAAC6B,OAAO,CAAEX,WAAY,CAAE,CAAC,cAAGb,IAAA,CAACN,QAAQ,EAAC+B,EAAE,CAAC,GAAG,CAAE,CAAE,CACzE,CAAC,cACFzB,IAAA,CAACP,KAAK,EACJ6B,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAE,CAACnB,KAAK,cAAGJ,IAAA,CAACJ,QAAQ,EAAC8B,UAAU,CAAEb,WAAY,CAAE,CAAC,cAAGb,IAAA,CAACN,QAAQ,EAAC+B,EAAE,CAAC,GAAG,CAAE,CAAE,CAC/E,CAAC,cACFzB,IAAA,CAACP,KAAK,EACJ6B,IAAI,CAAC,GAAG,CACRC,OAAO,CAAEnB,KAAK,cAAGJ,IAAA,CAACH,SAAS,EAACW,IAAI,CAAEA,IAAK,CAACmB,QAAQ,CAAET,YAAa,CAAE,CAAC,cAAGlB,IAAA,CAACN,QAAQ,EAAC+B,EAAE,CAAC,QAAQ,CAAE,CAAE,CAC/F,CAAC,cACFzB,IAAA,CAACP,KAAK,EACJ6B,IAAI,CAAC,cAAc,CACnBC,OAAO,CAAEnB,KAAK,cAAGJ,IAAA,CAACF,WAAW,EAACU,IAAI,CAAEA,IAAK,CAACmB,QAAQ,CAAET,YAAa,CAAE,CAAC,cAAGlB,IAAA,CAACN,QAAQ,EAAC+B,EAAE,CAAC,QAAQ,CAAE,CAAE,CACjG,CAAC,EACI,CAAC,CACN,CAAC,CACA,CAAC,CAEb,CAEA,cAAe,CAAAtB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}